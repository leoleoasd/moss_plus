<html>
<head>
    <meta charset="UTF-8">
    <title>Matches for {{.Filename1}} and {{.Filename2}}</title>
    <script src="codemirror/lib/codemirror.js"></script>
    <link rel="stylesheet" href="codemirror/lib/codemirror.css">
    <script src="codemirror/mode/javascript/javascript.js"></script>
</head>
<body>
<div class="top">
    <div class="banner">
        <span>{{.Filename1}} | {{.Filename2}}</span>
    </div>
</div>
<div class="bottom">
    <div class="leftCode">
        <span>{{.Filename1}}:</span>
        {{range .DuplicateLines}}<span>line {{.BeginLine1}}-{{.EndLine1}}</span>{{end}}
        <div id="leftCodeMirror"></div>
    </div>
    <div class="rightCode">
        <span>{{.Filename2}}:</span>
        {{range .DuplicateLines}}<span>line {{.BeginLine2}}-{{.EndLine2}}</span>{{end}}
        <div id="rightCodeMirror"></div>
    </div>
</div>
</body>
<style>
    .top {
        height: 5%;
        /*background: #ec6c99;*/
    }
    .leftCode {
        float: left;
        width: 50%;
        /*background: #66ccff;*/
        min-height: 90vh;
    }
    .rightCode {
        margin-left: 50%;
        /*background: #ccffcc;*/
        min-height: 90vh;
    }
    .highlightCode {
        color: red;
    }
</style>
<script>
    let leftCodeMirror = CodeMirror(document.getElementById("leftCodeMirror"), {
        value: {{.Code1}},
        mode: "cpp",
        lineNumbers: true,
        readOnly: true,
    });

    {{range .DuplicateLines}}
    leftCodeMirror.markText({line:{{.BeginLine1}},ch:0},{line:{{.EndLine1}},ch:0}, {
        className: "highlightCode",
        readOnly: true,
    });
    {{end}}

    let rightCodeMirror = CodeMirror(document.getElementById("rightCodeMirror"), {
        value: {{.Code2}},
        mode: "cpp",
        lineNumbers: true,
        readOnly: true
    });

    {{range .DuplicateLines}}
    rightCodeMirror.markText({line:{{.BeginLine2}},ch:0},{line:{{.EndLine2}},ch:0}, {
        className: "highlightCode",
        readOnly: true,
    });
    {{end}}
</script>
</html>
